(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var n=function(){function n(t,o){var r,i,s,c=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),i=function(e){"Escape"===e.key&&c.close()},(r="_handleEscClose")in this?Object.defineProperty(this,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[r]=i,this._popup=document.querySelector(t),this._closeBtn=this._popup.querySelector(".popup__close-btn"),this.close=this.close.bind(this),this._submit=o,this._form=this._popup.querySelector(".form"),this._thanks=this._popup.querySelector(".form__thanks"),this._title=this._form.querySelector(".form__title"),this._titleText=this._title.textContent,this._inputs=function(t){if(Array.isArray(t))return e(t)}(s=this._popup.querySelectorAll(".form__item"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(s)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o,r;return o=n,r=[{key:"open",value:function(e){document.addEventListener("keydown",this._handleEscClose),this._setGrid(),this._setVacancy(e),this._showThanks(!1),this._popup.classList.add("popup_opened")}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose),this._form.reset()}},{key:"_getInputValues",value:function(){var e={};return this._inputs.forEach((function(t){e[t.id]=t.value})),e}},{key:"_setGrid",value:function(){for(var e=0;e<this._inputs.length;e++)this._inputs[e].parentNode.style.gridArea=this._inputs[e].id}},{key:"_vacancyNameToTitle",value:function(e){return"Хочу стать "+e}},{key:"_setVacancy",value:function(e){var t=!!e;this._title.textContent=t?this._vacancyNameToTitle(e):"Оставьте свои контакты",this._form.querySelector("#position").parentNode.style.display=t?"none":"flex",this._form.querySelector("#area").parentNode.style.display=t?"none":"flex",this._form.querySelector("#experience").parentNode.style.display=t?"flex":"none"}},{key:"_showThanks",value:function(e){this._form.style.display=e?"none":"flex",this._thanks.style.display=e?"flex":"none"}},{key:"setEventListeners",value:function(){var e=this;this._closeBtn.addEventListener("click",this.close),this._popup.addEventListener("click",(function(t){t.target===t.currentTarget&&e.close()})),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submit(e._getInputValues()),e._showThanks(!0)}))}}],r&&t(o.prototype,r),Object.defineProperty(o,"prototype",{writable:!1}),n}(),o=document.querySelector(".page"),r=document.querySelectorAll(".vacancies__apply-button"),i=document.querySelectorAll(".vacancies__vacancy-summary-button"),s=document.querySelectorAll(".faq__question-button"),c=o.querySelector(".vacancies__apply");function l(e,t,n){for(var o=0;o<e.length;o++)e[o].addEventListener("click",(function(){var e=this.nextElementSibling;this.querySelector("."+t).classList.toggle(t+n),"block"===e.style.display?e.style.display="none":e.style.display="block"}))}function a(e){u.open(e.target.parentNode.parentNode.parentNode.querySelector(".vacancies__vacancy-title").textContent)}l(i,"vacancies__open-icon","_opened"),l(s,"faq__open-icon","_opened");var u=new n(".popup",(function(e){console.log(e)}));u.setEventListeners(),c.addEventListener("click",(function(){u.open()})),function(){for(var e=0;e<r.length;e++)r[e].addEventListener("click",a)}();var d,p=document.querySelectorAll(".slider .slider-line img"),y=document.querySelector(".slider .slider-line"),_=0;function h(){y.style.transform="translate(-"+_*d+"px)"}d=document.querySelector(".story").offsetWidth+40,h(),document.querySelector(".slider-next").addEventListener("click",(function(){++_>=p.length&&(_=0),h()})),document.querySelector(".slider-prev").addEventListener("click",(function(){--_<0&&(_=p.length-1),h()}));var f=document.querySelectorAll(".test__choice"),v=document.querySelector(".result-mentor"),m=document.querySelector(".result-reviewer"),g=document.querySelector(".test"),S=document.querySelector(".test__button");document.querySelector(".result__choice"),S.addEventListener("click",(function(){var e=function(){var e=document.querySelectorAll(".test__choice_colour"),t=0;return e.forEach((function(e){e.classList.contains("mentor")&&(t+=1)})),function(e){return e>=2?v:m}(t)}();g.classList.toggle("hide"),e.classList.toggle("hide")})),v.querySelector(".result__choice_colour").addEventListener("click",(function(){v.classList.toggle("hide"),g.classList.toggle("hide")})),m.querySelector(".result__choice_colour").addEventListener("click",(function(){m.classList.toggle("hide"),g.classList.toggle("hide")}));for(var q=function(e){f[e].addEventListener("click",(function(){f[e].classList.toggle("test__choice_colour")}))},b=0;b<f.length;b++)q(b)})();