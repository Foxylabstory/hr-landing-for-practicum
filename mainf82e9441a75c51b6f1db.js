(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var n=function(){function n(t,o){var r,i,c,s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),i=function(e){"Escape"===e.key&&s.close()},(r="_handleEscClose")in this?Object.defineProperty(this,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[r]=i,this._popup=document.querySelector(t),this._closeBtn=this._popup.querySelector(".popup__close-btn"),this.close=this.close.bind(this),this._submit=o,this._form=this._popup.querySelector(".form"),this._thanks=this._popup.querySelector(".form__thanks"),this._title=this._form.querySelector(".form__title"),this._titleText=this._title.textContent,this._inputs=function(t){if(Array.isArray(t))return e(t)}(c=this._popup.querySelectorAll(".form__item"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o,r;return o=n,r=[{key:"open",value:function(e){document.addEventListener("keydown",this._handleEscClose),this._setGrid(),this._setVacancy(e),this._showThanks(!1),this._popup.classList.add("popup_opened")}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose),this._form.reset()}},{key:"_getInputValues",value:function(){var e={};return this._inputs.forEach((function(t){e[t.id]=t.value})),e}},{key:"_setGrid",value:function(){for(var e=0;e<this._inputs.length;e++)this._inputs[e].parentNode.style.gridArea=this._inputs[e].id}},{key:"_vacancyNameToTitle",value:function(e){return"Хочу стать "+e}},{key:"_setVacancy",value:function(e){var t=!!e;this._title.textContent=t?this._vacancyNameToTitle(e):"Оставьте свои контакты",this._form.querySelector("#position").parentNode.style.display=t?"none":"flex",this._form.querySelector("#area").parentNode.style.display=t?"none":"flex",this._form.querySelector("#experience").parentNode.style.display=t?"flex":"none"}},{key:"_showThanks",value:function(e){this._form.style.display=e?"none":"flex",this._thanks.style.display=e?"flex":"none"}},{key:"setEventListeners",value:function(){var e=this;this._closeBtn.addEventListener("click",this.close),this._popup.addEventListener("click",(function(t){t.target===t.currentTarget&&e.close()})),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submit(e._getInputValues()),e._showThanks(!0)}))}}],r&&t(o.prototype,r),Object.defineProperty(o,"prototype",{writable:!1}),n}(),o=document.querySelector(".page"),r=document.querySelectorAll(".vacancies__apply-button"),i=document.querySelectorAll(".vacancies__vacancy-summary-button"),c=document.querySelectorAll(".faq__question-button"),s=o.querySelector(".vacancies__apply"),l=o.querySelector(".header__burger"),u=o.querySelector(".mobile"),a=o.querySelector(".mobile__closer"),d=o.querySelectorAll(".mobile__link");function _(e,t,n){for(var o=0;o<e.length;o++)e[o].addEventListener("click",(function(){var e=this.nextElementSibling;this.querySelector("."+t).classList.toggle(t+n),"block"===e.style.display?e.style.display="none":e.style.display="block"}))}function p(e){f.open(e.target.parentNode.parentNode.parentNode.querySelector(".vacancies__vacancy-title").textContent)}_(i,"vacancies__open-icon","_opened"),_(c,"faq__open-icon","_opened");var f=new n(".popup",(function(e){console.log(e)}));f.setEventListeners(),s.addEventListener("click",(function(){f.open()})),function(){for(var e=0;e<r.length;e++)r[e].addEventListener("click",p)}(),console.log(window.screen.width);var y,h,v=document.querySelectorAll(".slider__block .slider__line img"),m=document.querySelector(".slider__block .slider__line"),g=0;function b(){m.style.transform="translate(-"+g*y+"px)"}h=window.screen.width>400?40:14,y=document.querySelector(".story").offsetWidth+h,b(),document.querySelector(".slider__next").addEventListener("click",(function(){++g>=v.length&&(g=0),b()})),document.querySelector(".slider__prev").addEventListener("click",(function(){--g<0&&(g=v.length-1),b()}));var S=document.querySelectorAll(".test__choice"),k=document.querySelector(".result-mentor"),q=document.querySelector(".result-reviewer"),L=document.querySelector(".test"),E=document.querySelector(".test__button");document.querySelector(".result__choice"),E.addEventListener("click",(function(){var e=function(){var e=document.querySelectorAll(".test__choice_colour"),t=0;return e.forEach((function(e){e.classList.contains("mentor")&&(t+=1)})),function(e){return e>=2?k:q}(t)}();L.classList.toggle("hide"),e.classList.toggle("hide")})),k.querySelector(".result__choice_colour").addEventListener("click",(function(){k.classList.toggle("hide"),L.classList.toggle("hide")})),q.querySelector(".result__choice_colour").addEventListener("click",(function(){q.classList.toggle("hide"),L.classList.toggle("hide")}));for(var w=function(e){S[e].addEventListener("click",(function(){S[e].classList.toggle("test__choice_colour")}))},A=0;A<S.length;A++)w(A);l.addEventListener("click",(function(e){u.classList.add("mobile_opened"),u.addEventListener("click",(function(e){e.target===e.currentTarget&&x()})),a.addEventListener("click",(function(e){x()})),d.forEach((function(e){e.addEventListener("click",(function(e){x()}))}))}));var x=function e(){u.classList.remove("mobile_opened"),d.forEach((function(t){t.removeEventListener("click",(function(t){e()}))}))}})();